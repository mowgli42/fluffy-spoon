<?xml version="1.0" encoding="UTF-8"?>

<xs:schema xmlns:xs=“http://www.w3.org/2001/XMLSchema”
targetNamespace=“http://www.example.com/recipe”
xmlns=“http://www.example.com/recipe”
elementFormDefault=“qualified”>

  <!-- Root element -->

<xs:element name=“recipe” type=“RecipeType”/>

  <!-- Recipe Type -->

<xs:complexType name=“RecipeType”>
<xs:sequence>
<xs:element name=“title” type=“xs:string”/>
<xs:element name=“description” type=“DescriptionType”/>
<xs:element name=“metadata” type=“MetadataType” minOccurs=“0”/>
<xs:element name=“ingredients” type=“IngredientsType”/>
<xs:element name=“preparation” type=“PreparationType”/>
</xs:sequence>
<xs:attribute name=“id” type=“xs:ID” use=“optional”/>
</xs:complexType>

  <!-- Description Type -->

<xs:complexType name=“DescriptionType”>
<xs:sequence>
<xs:element name=“summary” type=“xs:string”/>
<xs:element name=“tags” type=“TagsType” minOccurs=“0”/>
</xs:sequence>
</xs:complexType>

  <!-- Tags Type -->

<xs:complexType name=“TagsType”>
<xs:sequence>
<xs:element name=“tag” type=“xs:string” maxOccurs=“unbounded”/>
</xs:sequence>
</xs:complexType>

  <!-- Metadata Type -->

<xs:complexType name=“MetadataType”>
<xs:sequence>
<xs:element name=“servings” type=“xs:positiveInteger” minOccurs=“0”/>
<xs:element name=“prepTime” type=“xs:string” minOccurs=“0”/>
<xs:element name=“cookTime” type=“xs:string” minOccurs=“0”/>
<xs:element name=“totalTime” type=“xs:string” minOccurs=“0”/>
<xs:element name=“difficulty” minOccurs=“0”>
<xs:simpleType>
<xs:restriction base=“xs:string”>
<xs:enumeration value=“easy”/>
<xs:enumeration value=“medium”/>
<xs:enumeration value=“hard”/>
</xs:restriction>
</xs:simpleType>
</xs:element>
</xs:sequence>
</xs:complexType>

  <!-- Ingredients Type -->

<xs:complexType name=“IngredientsType”>
<xs:sequence>
<xs:element name=“ingredient” type=“IngredientType” maxOccurs=“unbounded”/>
</xs:sequence>
</xs:complexType>

  <!-- Ingredient Type -->

<xs:complexType name=“IngredientType”>
<xs:simpleContent>
<xs:extension base=“xs:string”>
<xs:attribute name=“quantity” type=“xs:string” use=“optional”/>
<xs:attribute name=“unit” type=“xs:string” use=“optional”/>
</xs:extension>
</xs:simpleContent>
</xs:complexType>

  <!-- Preparation Type -->

<xs:complexType name=“PreparationType”>
<xs:sequence>
<xs:element name=“step” type=“StepType” maxOccurs=“unbounded”/>
</xs:sequence>
</xs:complexType>

  <!-- Step Type -->

<xs:complexType name=“StepType”>
<xs:simpleContent>
<xs:extension base=“xs:string”>
<xs:attribute name=“number” type=“xs:positiveInteger” use=“required”/>
</xs:extension>
</xs:simpleContent>
</xs:complexType>

</xs:schema>